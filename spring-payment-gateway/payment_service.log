2022-03-02 15:45:28.706  INFO 16180 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 16180 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 15:45:28.714  INFO 16180 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 15:45:29.805  INFO 16180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 15:45:29.950  INFO 16180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 138 ms. Found 1 MongoDB repository interfaces.
2022-03-02 15:45:30.231  INFO 16180 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 15:45:30.671  INFO 16180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 15:45:30.686  INFO 16180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 15:45:30.686  INFO 16180 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 15:45:30.812  INFO 16180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 15:45:30.813  INFO 16180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2013 ms
2022-03-02 15:45:31.314  INFO 16180 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 15:45:31.403  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 15:45:31.406  WARN 16180 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 15:45:31.453  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 15:45:31.455  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 15:45:31.561  WARN 16180 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:349445}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:344375}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-rtt-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:349445}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-rtt-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:345158}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-rtt-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:344374}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.987  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=297396500, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 15:45:30 MSK 2022, lastUpdateTimeNanos=20747323548200}
2022-03-02 15:45:31.986  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:345158}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.987  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=296276600, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 15:45:30 MSK 2022, lastUpdateTimeNanos=20747323548300}
2022-03-02 15:45:31.987  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=292424700, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 15:45:30 MSK 2022, lastUpdateTimeNanos=20747323548300}
2022-03-02 15:45:31.990  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.991  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 15:45:31.991  INFO 16180 --- [cluster-ClusterId{value='621f66eb08fdfb29dab5470f', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 15:45:32.109  WARN 16180 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 15:45:32.627  INFO 16180 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 15:45:32.716  WARN 16180 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 15:45:32.723  INFO 16180 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 15:45:32.769  INFO 16180 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 15:45:32.862  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 15:45:32.869  INFO 16180 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 15:45:32.904  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 15:45:32.904  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 15:45:32.904  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 15:45:32.904  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 15:45:32.904  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 15:45:32.905  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 15:45:32.905  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 15:45:33.197  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 15:45:33.203  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 15:45:33.209  INFO 16180 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 15:45:33.221  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646225133221 with initial instances count: 1
2022-03-02 15:45:33.223  INFO 16180 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 15:45:33.224  INFO 16180 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646225133224, current=UP, previous=STARTING]
2022-03-02 15:45:33.226  INFO 16180 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 15:45:33.244  INFO 16180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 15:45:33.245  INFO 16180 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 15:45:33.275  INFO 16180 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 15:45:33.333  INFO 16180 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.912 seconds (JVM running for 6.921)
2022-03-02 15:50:32.915  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 15:55:32.925  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:00:32.929  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:05:32.942  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:10:32.951  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:15:32.963  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:20:32.965  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:25:32.977  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:30:32.982  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:35:32.995  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:40:32.997  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:45:32.999  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:50:33.010  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 16:55:33.021  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:00:33.028  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:05:33.031  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:10:33.045  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:15:33.052  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:20:33.063  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:25:33.067  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:30:33.068  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:35:33.074  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:40:33.086  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:45:33.102  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:50:33.103  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 17:55:33.110  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:00:33.111  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:05:33.114  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:10:33.123  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:15:33.126  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:20:33.134  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:25:33.148  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:30:33.155  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:35:33.157  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:40:33.165  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:45:33.171  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:47:57.098  INFO 16180 --- [http-nio-9201-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-02 18:47:57.099  INFO 16180 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-03-02 18:47:57.117  INFO 16180 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2022-03-02 18:47:57.775  INFO 16180 --- [http-nio-9201-exec-1] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:352282}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 18:50:33.177  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 18:55:33.188  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:00:33.201  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:05:33.210  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:10:33.216  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:15:33.219  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:20:33.222  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:25:33.232  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:30:33.242  INFO 16180 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:33:00.138  INFO 16180 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:33:00.138  INFO 16180 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646238780138, current=DOWN, previous=UP]
2022-03-02 19:33:00.139  INFO 16180 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:33:00.147  INFO 16180 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:33:00.348  INFO 16180 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:33:03.351  INFO 16180 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 19:33:03.357  INFO 16180 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2022-03-02 19:33:03.358  WARN 16180 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:33:03.362  INFO 16180 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2022-03-02 19:33:03.362  WARN 16180 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:33:03.367 ERROR 16180 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:33:03.372  INFO 16180 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 19:33:32.868  INFO 18504 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 18504 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 19:33:32.873  INFO 18504 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 19:33:34.619  INFO 18504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 19:33:34.810  INFO 18504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177 ms. Found 1 MongoDB repository interfaces.
2022-03-02 19:33:35.158  INFO 18504 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 19:33:35.858  INFO 18504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 19:33:35.871  INFO 18504 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 19:33:35.872  INFO 18504 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 19:33:36.098  INFO 18504 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 19:33:36.098  INFO 18504 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3128 ms
2022-03-02 19:33:36.828  INFO 18504 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 19:33:36.922  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:33:37.083  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:33:37.088  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:33:37.094  WARN 18504 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:33:37.299  WARN 18504 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:33:37.934  INFO 18504 --- [cluster-rtt-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:347872}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.934  INFO 18504 --- [cluster-rtt-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:348661}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.935  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:347872}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.935  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=398772200, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 19:33:31 MSK 2022, lastUpdateTimeNanos=34433271331500}
2022-03-02 19:33:37.936  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:352858}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.936  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=421866900, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 19:33:31 MSK 2022, lastUpdateTimeNanos=34433271274500}
2022-03-02 19:33:37.935  INFO 18504 --- [cluster-rtt-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:352858}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.937  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:348661}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.939  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=409432299, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 19:33:31 MSK 2022, lastUpdateTimeNanos=34433271411600}
2022-03-02 19:33:37.942  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.943  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:33:37.943  INFO 18504 --- [cluster-ClusterId{value='621f9c60fdeb1150ce41374a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:33:38.305  WARN 18504 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 19:33:39.082  INFO 18504 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 19:33:39.246  WARN 18504 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 19:33:39.257  INFO 18504 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 19:33:39.338  INFO 18504 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 19:33:39.463  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 19:33:39.470  INFO 18504 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:33:39.508  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:33:39.508  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:33:39.508  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:33:39.509  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:33:39.509  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:33:39.509  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 19:33:39.509  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:33:39.962  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:33:39.969  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 19:33:39.978  INFO 18504 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 19:33:39.995  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646238819994 with initial instances count: 0
2022-03-02 19:33:39.997  INFO 18504 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 19:33:39.998  INFO 18504 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646238819998, current=UP, previous=STARTING]
2022-03-02 19:33:40.006  INFO 18504 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:33:40.057  INFO 18504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 19:33:40.058  INFO 18504 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 19:33:40.087  INFO 18504 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:33:40.182  INFO 18504 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 8.594 seconds (JVM running for 9.505)
2022-03-02 19:34:09.981  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 19:34:09.982  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:34:09.993  INFO 18504 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:38:39.527  INFO 18504 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:41:35.695  INFO 18504 --- [http-nio-9201-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-02 19:41:35.696  INFO 18504 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-03-02 19:41:35.697  INFO 18504 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2022-03-02 19:42:02.865  INFO 18504 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:42:02.866  INFO 18504 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646239322866, current=DOWN, previous=UP]
2022-03-02 19:42:02.866  INFO 18504 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:42:02.871  INFO 18504 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:42:03.018  INFO 18504 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:42:06.028  INFO 18504 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 19:42:06.034  INFO 18504 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2022-03-02 19:42:06.035  WARN 18504 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:42:06.042  INFO 18504 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2022-03-02 19:42:06.042  WARN 18504 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:42:06.047 ERROR 18504 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:42:06.060  INFO 18504 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 19:43:16.531  INFO 13516 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 13516 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 19:43:16.535  INFO 13516 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 19:43:17.629  INFO 13516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 19:43:17.796  INFO 13516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 1 MongoDB repository interfaces.
2022-03-02 19:43:18.118  INFO 13516 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 19:43:18.541  INFO 13516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 19:43:18.553  INFO 13516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 19:43:18.553  INFO 13516 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 19:43:18.704  INFO 13516 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 19:43:18.705  INFO 13516 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2118 ms
2022-03-02 19:43:19.366  INFO 13516 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 19:43:19.471  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:43:19.476  WARN 13516 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:43:19.526  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:43:19.528  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:43:19.665  WARN 13516 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:348810}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:348012}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.195  WARN 13516 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-rtt-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:353128}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:353128}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-rtt-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:348012}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.079  INFO 13516 --- [cluster-rtt-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:348810}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.395  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=304639401, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 19:43:10 MSK 2022, lastUpdateTimeNanos=35015417694700}
2022-03-02 19:43:20.395  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=303145900, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 19:43:10 MSK 2022, lastUpdateTimeNanos=35015416362000}
2022-03-02 19:43:20.395  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=304416299, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 19:43:10 MSK 2022, lastUpdateTimeNanos=35015416279800}
2022-03-02 19:43:20.399  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.400  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.401  INFO 13516 --- [cluster-ClusterId{value='621f9ea7d36f440aee812dff', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:43:20.885  INFO 13516 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 19:43:20.968  WARN 13516 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 19:43:20.974  INFO 13516 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 19:43:21.015  INFO 13516 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 19:43:21.128  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 19:43:21.138  INFO 13516 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:43:21.180  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:43:21.180  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:43:21.180  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:43:21.180  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:43:21.180  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:43:21.181  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 19:43:21.181  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:43:21.495  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:43:21.501  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 19:43:21.507  INFO 13516 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 19:43:21.520  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646239401519 with initial instances count: 0
2022-03-02 19:43:21.521  INFO 13516 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 19:43:21.522  INFO 13516 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646239401522, current=UP, previous=STARTING]
2022-03-02 19:43:21.524  INFO 13516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:43:21.544  INFO 13516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 19:43:21.544  INFO 13516 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 19:43:21.566  INFO 13516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:43:21.640  INFO 13516 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.879 seconds (JVM running for 6.488)
2022-03-02 19:43:51.507  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:43:51.510  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:43:51.511  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:43:51.516  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:43:51.516  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:43:51.516  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 19:43:51.516  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:43:51.564  INFO 13516 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:46:02.103  INFO 13516 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:46:02.103  INFO 13516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646239562103, current=DOWN, previous=UP]
2022-03-02 19:46:02.103  INFO 13516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:46:02.109  INFO 13516 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:46:02.255  INFO 13516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:46:05.268  INFO 13516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 19:46:05.274  INFO 13516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - deregister  status: 200
2022-03-02 19:46:05.281  INFO 13516 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 19:46:09.764  INFO 2160 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 2160 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 19:46:09.767  INFO 2160 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 19:46:10.963  INFO 2160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 19:46:11.119  INFO 2160 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 1 MongoDB repository interfaces.
2022-03-02 19:46:11.462  INFO 2160 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 19:46:11.863  INFO 2160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 19:46:11.873  INFO 2160 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 19:46:11.873  INFO 2160 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 19:46:12.105  INFO 2160 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 19:46:12.106  INFO 2160 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2283 ms
2022-03-02 19:46:12.860  INFO 2160 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 19:46:13.004  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:46:13.037  WARN 2160 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:46:13.118  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:46:13.120  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:46:13.376  WARN 2160 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:46:14.135  INFO 2160 --- [cluster-rtt-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:348858}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.139  INFO 2160 --- [cluster-rtt-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:353167}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.139  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:348858}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.140  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=316895100, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 19:46:01 MSK 2022, lastUpdateTimeNanos=35189478848800}
2022-03-02 19:46:14.140  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:348053}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.141  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=310283700, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 19:46:01 MSK 2022, lastUpdateTimeNanos=35189478774700}
2022-03-02 19:46:14.152  INFO 2160 --- [cluster-rtt-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:348053}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.184  WARN 2160 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 19:46:14.189  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:353167}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.190  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=365845600, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 19:46:01 MSK 2022, lastUpdateTimeNanos=35189527802400}
2022-03-02 19:46:14.190  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.191  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.191  INFO 2160 --- [cluster-ClusterId{value='621f9f5459b4b376028d34dd', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:46:14.938  INFO 2160 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 19:46:15.035  WARN 2160 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 19:46:15.041  INFO 2160 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 19:46:15.086  INFO 2160 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 19:46:15.210  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 19:46:15.220  INFO 2160 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:46:15.261  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 19:46:15.262  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:46:15.629  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:46:15.636  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 19:46:15.643  INFO 2160 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 19:46:15.660  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646239575659 with initial instances count: 3
2022-03-02 19:46:15.663  INFO 2160 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 19:46:15.663  INFO 2160 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646239575663, current=UP, previous=STARTING]
2022-03-02 19:46:15.665  INFO 2160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:46:15.693  INFO 2160 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 19:46:15.694  INFO 2160 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 19:46:15.728  INFO 2160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:46:15.825  INFO 2160 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 6.812 seconds (JVM running for 7.406)
2022-03-02 19:51:15.272  INFO 2160 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:53:57.490  INFO 2160 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:53:57.490  INFO 2160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240037490, current=DOWN, previous=UP]
2022-03-02 19:53:57.491  INFO 2160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:53:57.496  INFO 2160 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:53:57.643  INFO 2160 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:54:01.148  INFO 15972 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 15972 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 19:54:01.151  INFO 15972 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 19:54:02.344  INFO 15972 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 19:54:02.501  INFO 15972 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148 ms. Found 1 MongoDB repository interfaces.
2022-03-02 19:54:02.769  INFO 15972 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 19:54:03.246  INFO 15972 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 19:54:03.257  INFO 15972 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 19:54:03.257  INFO 15972 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 19:54:03.421  INFO 15972 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 19:54:03.421  INFO 15972 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2213 ms
2022-03-02 19:54:03.970  INFO 15972 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 19:54:04.082  WARN 15972 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:54:04.104  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:54:04.175  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:54:04.178  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:54:04.356  WARN 15972 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:54:04.942  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:353268}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.942  INFO 15972 --- [cluster-rtt-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:353268}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.943  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=313641400, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 19:53:55 MSK 2022, lastUpdateTimeNanos=35660279616700}
2022-03-02 19:54:04.945  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:348969}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.946  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=256706100, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 19:53:55 MSK 2022, lastUpdateTimeNanos=35660280846800}
2022-03-02 19:54:04.946  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:348169}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.947  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=313301400, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 19:53:55 MSK 2022, lastUpdateTimeNanos=35660280841100}
2022-03-02 19:54:04.947  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.948  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.948  INFO 15972 --- [cluster-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.972  WARN 15972 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 19:54:04.975  INFO 15972 --- [cluster-rtt-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:348969}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:54:04.978  INFO 15972 --- [cluster-rtt-ClusterId{value='621fa12bed3af74e1ccc6350', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:348169}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:54:05.480  INFO 15972 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 19:54:05.554  WARN 15972 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 19:54:05.561  INFO 15972 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 19:54:05.602  INFO 15972 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 19:54:05.699  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 19:54:05.707  INFO 15972 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:54:05.740  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 19:54:05.741  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:54:06.006  INFO 15972 --- [main] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplications(RestTemplateEurekaHttpClient.java:135)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$af1475c2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at ru.otus.spring.PaymentsServiceApplication.main(PaymentsServiceApplication.java:13)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 68 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 81 more

2022-03-02 19:54:06.006  WARN 15972 --- [main] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:54:06.007  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)
	at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:441)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:283)
	at com.netflix.discovery.DiscoveryClient.<init>(DiscoveryClient.java:279)
	at org.springframework.cloud.netflix.eureka.CloudEurekaClient.<init>(CloudEurekaClient.java:66)
	at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:376)
	at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:179)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getTargetObject(EurekaRegistration.java:127)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient(EurekaRegistration.java:115)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:485)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration$$EnhancerBySpringCGLIB$$af1475c2.getEurekaClient(<generated>)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38)
	at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at ru.otus.spring.PaymentsServiceApplication.main(PaymentsServiceApplication.java:13)

2022-03-02 19:54:06.007  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Initial registry fetch from primary servers failed
2022-03-02 19:54:06.008  WARN 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Using default backup registry implementation which does not do anything.
2022-03-02 19:54:06.008  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Initial registry fetch from backup servers failed
2022-03-02 19:54:06.014  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 19:54:06.021  INFO 15972 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 19:54:06.035  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646240046033 with initial instances count: 0
2022-03-02 19:54:06.036  INFO 15972 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 19:54:06.038  INFO 15972 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240046038, current=UP, previous=STARTING]
2022-03-02 19:54:06.040  INFO 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:54:06.059  INFO 15972 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 19:54:06.060  INFO 15972 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 19:54:06.089  INFO 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2022-03-02 19:54:06.090  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:54:06.095  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration failed Cannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:54:06.095  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:54:06.146  INFO 15972 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.736 seconds (JVM running for 6.269)
2022-03-02 19:54:06.147  INFO 15972 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:54:06.147  INFO 15972 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240046147, current=DOWN, previous=UP]
2022-03-02 19:54:06.147  INFO 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:54:06.160  INFO 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2022-03-02 19:54:06.160  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:54:06.161  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration failed Cannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:54:06.161  WARN 15972 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:54:06.311  INFO 15972 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:54:09.322  INFO 15972 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 19:54:09.328  INFO 15972 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2022-03-02 19:54:09.328  WARN 15972 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:54:09.329 ERROR 15972 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:54:09.334  INFO 15972 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 19:55:09.737  INFO 19916 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 19916 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 19:55:09.741  INFO 19916 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 19:55:12.099  INFO 19916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 19:55:12.348  INFO 19916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 1 MongoDB repository interfaces.
2022-03-02 19:55:12.880  INFO 19916 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 19:55:13.590  INFO 19916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 19:55:13.607  INFO 19916 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 19:55:13.608  INFO 19916 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 19:55:13.841  INFO 19916 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 19:55:13.842  INFO 19916 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4010 ms
2022-03-02 19:55:14.511  INFO 19916 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 19:55:14.619  WARN 19916 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:55:14.646  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:55:14.712  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:55:14.714  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 19:55:14.826  WARN 19916 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 19:55:15.347  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:348990}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.348  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=354424700, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 19:54:57 MSK 2022, lastUpdateTimeNanos=35730683932600}
2022-03-02 19:55:15.348  INFO 19916 --- [cluster-rtt-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:348990}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.348  INFO 19916 --- [cluster-rtt-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:348187}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.347  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:348187}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.347  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:353303}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.347  INFO 19916 --- [cluster-rtt-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:353303}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.349  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=351481600, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 19:54:57 MSK 2022, lastUpdateTimeNanos=35730683354900}
2022-03-02 19:55:15.350  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=354035800, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 19:54:57 MSK 2022, lastUpdateTimeNanos=35730683519300}
2022-03-02 19:55:15.364  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.364  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.365  INFO 19916 --- [cluster-ClusterId{value='621fa172567d7c4a0125d95a', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 19:55:15.681  WARN 19916 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 19:55:16.572  INFO 19916 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 19:55:17.056  WARN 19916 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 19:55:17.066  INFO 19916 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 19:55:17.385  INFO 19916 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 19:55:17.492  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 19:55:17.506  INFO 19916 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 19:55:17.565  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:55:17.565  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:55:17.565  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:55:17.565  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:55:17.565  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:55:17.566  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 19:55:17.566  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:55:17.943  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:55:17.953  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 19:55:17.959  INFO 19916 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 19:55:17.972  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646240117970 with initial instances count: 0
2022-03-02 19:55:17.973  INFO 19916 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 19:55:17.975  INFO 19916 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240117975, current=UP, previous=STARTING]
2022-03-02 19:55:17.978  INFO 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:55:18.008  INFO 19916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 19:55:18.009  INFO 19916 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 19:55:18.133  INFO 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 19:55:18.252  INFO 19916 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 10.011 seconds (JVM running for 11.507)
2022-03-02 19:55:47.960  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 19:55:47.961  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 19:55:47.972  INFO 19916 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 19:57:36.290  INFO 19916 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 19:57:36.290  INFO 19916 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240256290, current=DOWN, previous=UP]
2022-03-02 19:57:36.290  INFO 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 19:57:36.297  INFO 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 21 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 34 more

2022-03-02 19:57:36.298  WARN 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:57:36.315  INFO 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121)
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 22 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 35 more

2022-03-02 19:57:36.315  WARN 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:57:36.321  WARN 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration failed Cannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:57:36.322  WARN 19916 --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:876) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:121) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.InstanceInfoReplicator$1.run(InstanceInfoReplicator.java:101) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:57:36.462  INFO 19916 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 19:57:39.469  INFO 19916 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 19:57:39.476  INFO 19916 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:576)
	at java.base/sun.nio.ch.Net.connect(Net.java:565)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)
	at java.base/java.net.Socket.connect(Socket.java:645)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2022-03-02 19:57:39.476  WARN 19916 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/PAYMENT_SERVICE/payment_service:9201": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2022-03-02 19:57:39.476 ERROR 19916 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:196) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:189) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.1.jar:3.1.1]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:212) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1161) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1154) ~[spring-beans-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.6.3.jar:2.6.3]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.15.jar:5.3.15]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:137) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:106) ~[spring-boot-2.6.3.jar:2.6.3]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]

2022-03-02 19:57:39.481  INFO 19916 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 20:01:17.185  INFO 13776 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 13776 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 20:01:17.189  INFO 13776 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 20:01:19.770  INFO 13776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 20:01:20.070  INFO 13776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 289 ms. Found 1 MongoDB repository interfaces.
2022-03-02 20:01:20.601  INFO 13776 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 20:01:21.455  INFO 13776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 20:01:21.496  INFO 13776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 20:01:21.497  INFO 13776 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 20:01:21.872  INFO 13776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 20:01:21.872  INFO 13776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4572 ms
2022-03-02 20:01:22.842  INFO 13776 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 20:01:22.948  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 20:01:23.002  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 20:01:23.022  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 20:01:23.044  WARN 13776 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 20:01:23.254  WARN 13776 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 20:01:23.658  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:348277}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.658  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:348278}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.657  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:353397}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.658  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:353397}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.657  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:349083}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.659  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=315965700, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 20:01:15 MSK 2022, lastUpdateTimeNanos=170476873200}
2022-03-02 20:01:23.659  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=316534300, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 20:01:15 MSK 2022, lastUpdateTimeNanos=170477112800}
2022-03-02 20:01:23.660  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:349081}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.661  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=316290000, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 20:01:15 MSK 2022, lastUpdateTimeNanos=170476873200}
2022-03-02 20:01:23.662  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.663  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.663  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:01:23.944  WARN 13776 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 20:01:24.478  INFO 13776 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 20:01:24.565  WARN 13776 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 20:01:24.573  INFO 13776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 20:01:24.614  INFO 13776 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 20:01:24.732  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 20:01:24.743  INFO 13776 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:01:24.787  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 20:01:24.788  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 20:01:24.788  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 20:01:24.788  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 20:01:24.789  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 20:01:24.789  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 20:01:24.789  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 20:01:25.172  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 20:01:25.179  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 20:01:25.187  INFO 13776 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 20:01:25.207  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646240485205 with initial instances count: 0
2022-03-02 20:01:25.209  INFO 13776 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 20:01:25.210  INFO 13776 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646240485210, current=UP, previous=STARTING]
2022-03-02 20:01:25.212  INFO 13776 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 20:01:25.239  INFO 13776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 20:01:25.240  INFO 13776 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 20:01:25.266  INFO 13776 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 20:01:25.346  INFO 13776 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 9.465 seconds (JVM running for 10.606)
2022-03-02 20:01:55.193  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 20:01:55.194  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 20:01:55.206  INFO 13776 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 20:06:24.802  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:11:24.817  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:16:24.828  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:21:24.843  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:26:00.861  INFO 13776 --- [http-nio-9201-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-02 20:26:00.861  INFO 13776 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-03-02 20:26:00.864  INFO 13776 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-03-02 20:26:01.564  INFO 13776 --- [http-nio-9201-exec-1] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:353755}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:26:24.859  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:31:24.861  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:36:24.869  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:41:24.878  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:43:15.411  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-02.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:701) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:374) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:216) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:976) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1454) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1060) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.1.jar:na]
	... 5 common frames omitted

2022-03-02 20:43:15.453  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-00.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:701) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:374) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:216) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:976) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1454) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1060) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.1.jar:na]
	... 5 common frames omitted

2022-03-02 20:43:15.484  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-01.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:701) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:374) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:216) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803) ~[na:na]
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:976) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1454) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1060) ~[na:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.1.jar:na]
	... 5 common frames omitted

2022-03-02 20:43:17.438  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-02.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:669) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:645) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:300) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.1.jar:na]
	... 4 common frames omitted

2022-03-02 20:43:17.484  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-00.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:669) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:645) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:300) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.1.jar:na]
	... 4 common frames omitted

2022-03-02 20:43:17.530  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server cluster0-shard-00-01.vbyd5.mongodb.net:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.1.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:669) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:645) ~[na:na]
	at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:300) ~[na:na]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.1.jar:na]
	... 4 common frames omitted

2022-03-02 20:43:49.119  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:23, serverValue:349709}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 20:43:49.413  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:24, serverValue:354021}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:43:49.961  INFO 13776 --- [cluster-rtt-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:25, serverValue:348903}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 20:43:51.641  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:26, serverValue:348905}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 20:43:51.642  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96073700, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 20:43:46 MSK 2022, lastUpdateTimeNanos=2718462518500}
2022-03-02 20:43:51.715  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:27, serverValue:349710}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 20:43:51.715  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=92156800, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 20:43:46 MSK 2022, lastUpdateTimeNanos=2718536404700}
2022-03-02 20:43:51.742  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:28, serverValue:354020}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:43:51.742  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=88238100, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 20:43:46 MSK 2022, lastUpdateTimeNanos=2718562959100}
2022-03-02 20:43:51.743  INFO 13776 --- [cluster-ClusterId{value='621fa2e23a7aed41877919e8', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:46:24.889  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:51:24.892  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:56:24.908  INFO 13776 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 20:57:13.253  INFO 13776 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 20:57:13.254  INFO 13776 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646243833253, current=DOWN, previous=UP]
2022-03-02 20:57:13.254  INFO 13776 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 20:57:13.270  INFO 13776 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 20:57:13.737  INFO 13776 --- [SpringApplicationShutdownHook] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:29, serverValue:354234}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 20:57:13.916  INFO 13776 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 20:57:16.922  INFO 13776 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 20:57:16.925  INFO 13776 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - deregister  status: 200
2022-03-02 20:57:16.929  INFO 13776 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 21:04:18.232  INFO 17212 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 17212 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 21:04:18.234  INFO 17212 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 21:04:19.328  INFO 17212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 21:04:19.461  INFO 17212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 1 MongoDB repository interfaces.
2022-03-02 21:04:19.721  INFO 17212 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 21:04:20.152  INFO 17212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 21:04:20.161  INFO 17212 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 21:04:20.162  INFO 17212 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 21:04:20.300  INFO 17212 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 21:04:20.300  INFO 17212 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2013 ms
2022-03-02 21:04:20.807  INFO 17212 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 21:04:20.898  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:04:20.900  WARN 17212 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:04:20.946  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:04:20.947  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:04:21.053  WARN 17212 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:04:21.558  WARN 17212 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 21:04:21.666  INFO 17212 --- [cluster-rtt-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:349200}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.666  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:354314}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.667  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=318585100, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 21:04:15 MSK 2022, lastUpdateTimeNanos=3948485161000}
2022-03-02 21:04:21.667  INFO 17212 --- [cluster-rtt-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:354314}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.667  INFO 17212 --- [cluster-rtt-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:350001}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.667  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:350001}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.667  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:349202}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.668  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=319173000, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 21:04:15 MSK 2022, lastUpdateTimeNanos=3948485336200}
2022-03-02 21:04:21.668  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=318189400, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 21:04:15 MSK 2022, lastUpdateTimeNanos=3948487923700}
2022-03-02 21:04:21.678  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.679  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:04:21.679  INFO 17212 --- [cluster-ClusterId{value='621fb1a428f91b29a2f7d92c', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:04:22.125  INFO 17212 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 21:04:22.208  WARN 17212 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 21:04:22.214  INFO 17212 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 21:04:22.256  INFO 17212 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 21:04:22.345  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 21:04:22.352  INFO 17212 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:04:22.385  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 21:04:22.385  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 21:04:22.386  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 21:04:22.386  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 21:04:22.386  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 21:04:22.386  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 21:04:22.386  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 21:04:22.772  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 21:04:22.778  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 21:04:22.795  INFO 17212 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 21:04:22.814  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646244262812 with initial instances count: 0
2022-03-02 21:04:22.816  INFO 17212 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 21:04:22.817  INFO 17212 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646244262817, current=UP, previous=STARTING]
2022-03-02 21:04:22.819  INFO 17212 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 21:04:22.853  INFO 17212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 21:04:22.855  INFO 17212 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 21:04:23.000  INFO 17212 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.421 seconds (JVM running for 5.948)
2022-03-02 21:04:23.012  INFO 17212 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 21:04:52.798  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 21:04:52.799  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 21:04:52.799  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 21:04:52.799  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 21:04:52.799  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 21:04:52.800  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 21:04:52.800  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 21:04:52.811  INFO 17212 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 21:06:44.824  INFO 17212 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 21:06:44.825  INFO 17212 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646244404825, current=DOWN, previous=UP]
2022-03-02 21:06:44.825  INFO 17212 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 21:06:44.832  INFO 17212 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 21:06:44.985  INFO 17212 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 21:06:47.991  INFO 17212 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 21:06:47.996  INFO 17212 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - deregister  status: 200
2022-03-02 21:06:48.001  INFO 17212 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 21:06:52.438  INFO 1228 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 1228 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 21:06:52.441  INFO 1228 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 21:06:53.503  INFO 1228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 21:06:53.642  INFO 1228 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 1 MongoDB repository interfaces.
2022-03-02 21:06:53.916  INFO 1228 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 21:06:54.279  INFO 1228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 21:06:54.289  INFO 1228 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 21:06:54.290  INFO 1228 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 21:06:54.423  INFO 1228 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 21:06:54.424  INFO 1228 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1930 ms
2022-03-02 21:06:54.829  INFO 1228 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 21:06:54.914  WARN 1228 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:06:54.958  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:06:55.001  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:06:55.003  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:06:55.060  WARN 1228 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:06:55.528  INFO 1228 --- [cluster-rtt-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:354378}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.528  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:354378}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.529  INFO 1228 --- [cluster-rtt-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:350046}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.529  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=290905600, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 21:06:50 MSK 2022, lastUpdateTimeNanos=4102348084100}
2022-03-02 21:06:55.529  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:350046}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.529  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=289030999, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 21:06:50 MSK 2022, lastUpdateTimeNanos=4102348478900}
2022-03-02 21:06:55.532  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:349249}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.532  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=141951101, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 21:06:50 MSK 2022, lastUpdateTimeNanos=4102352890800}
2022-03-02 21:06:55.533  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.533  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.533  INFO 1228 --- [cluster-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.542  INFO 1228 --- [cluster-rtt-ClusterId{value='621fb23e8b20c50a060dfc6d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:349250}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:06:55.590  WARN 1228 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 21:06:56.085  INFO 1228 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 21:06:56.159  WARN 1228 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 21:06:56.165  INFO 1228 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 21:06:56.201  INFO 1228 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 21:06:56.291  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 21:06:56.297  INFO 1228 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:06:56.328  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 21:06:56.328  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 21:06:56.328  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 21:06:56.329  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 21:06:56.329  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 21:06:56.329  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 21:06:56.329  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 21:06:56.628  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 21:06:56.635  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 21:06:56.640  INFO 1228 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 21:06:56.653  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646244416652 with initial instances count: 3
2022-03-02 21:06:56.655  INFO 1228 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 21:06:56.655  INFO 1228 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646244416655, current=UP, previous=STARTING]
2022-03-02 21:06:56.657  INFO 1228 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 21:06:56.681  INFO 1228 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 21:06:56.682  INFO 1228 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 21:06:56.705  INFO 1228 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 21:06:56.769  INFO 1228 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.005 seconds (JVM running for 5.587)
2022-03-02 21:11:56.332  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:16:56.334  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:20:54.297  INFO 1228 --- [http-nio-9201-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-02 21:20:54.298  INFO 1228 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-03-02 21:20:54.303  INFO 1228 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2022-03-02 21:20:54.711  INFO 1228 --- [http-nio-9201-exec-1] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:354580}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:21:56.342  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:26:56.349  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:31:56.358  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:36:56.364  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:41:56.371  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:46:56.373  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:51:56.377  INFO 1228 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:53:28.272  INFO 1228 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 21:53:28.273  INFO 1228 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646247208273, current=DOWN, previous=UP]
2022-03-02 21:53:28.273  INFO 1228 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 21:53:28.280  INFO 1228 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 21:53:28.474  INFO 1228 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 21:53:31.478  INFO 1228 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 21:53:31.482  INFO 1228 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - deregister  status: 200
2022-03-02 21:53:31.486  INFO 1228 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2022-03-02 21:57:22.172  INFO 9260 --- [main] r.o.spring.PaymentsServiceApplication    : Starting PaymentsServiceApplication using Java 16.0.2 on DESKTOP-V680D6E with PID 9260 (C:\JAVA\Homeworks\spring-project\spring-payment-gateway\payment-service\target\classes started by ctm99 in C:\JAVA\Homeworks\spring-project\spring-payment-gateway)
2022-03-02 21:57:22.175  INFO 9260 --- [main] r.o.spring.PaymentsServiceApplication    : No active profile set, falling back to default profiles: default
2022-03-02 21:57:23.271  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-02 21:57:23.403  INFO 9260 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 1 MongoDB repository interfaces.
2022-03-02 21:57:23.658  INFO 9260 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=43bc2f1d-c5f2-3f3f-aeb8-a1a5c8bd3b05
2022-03-02 21:57:24.051  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9201 (http)
2022-03-02 21:57:24.065  INFO 9260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-03-02 21:57:24.065  INFO 9260 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-02 21:57:24.200  INFO 9260 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-03-02 21:57:24.200  INFO 9260 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1955 ms
2022-03-02 21:57:24.624  INFO 9260 --- [main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[127.0.0.1:27017], srvHost=cluster0.vbyd5.mongodb.net, mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='atlas-x7scl9-shard-0'}
2022-03-02 21:57:24.706  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-02.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:57:24.714  WARN 9260 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:57:24.757  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-01.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:57:24.758  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-srv-cluster0.vbyd5.mongodb.net] org.mongodb.driver.cluster               : Adding discovered server cluster0-shard-00-00.vbyd5.mongodb.net:27017 to client view of cluster
2022-03-02 21:57:24.887  WARN 9260 --- [main] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-02 21:57:25.305  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:355105}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.305  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:349988}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.305  INFO 9260 --- [cluster-rtt-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:349988}] to cluster0-shard-00-02.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.305  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:350787}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.306  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.vbyd5.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=302095400, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-01.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000009, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b0e9c649a31308f8104, counter=8}, lastWriteDate=Wed Mar 02 21:57:22 MSK 2022, lastUpdateTimeNanos=7132124405300}
2022-03-02 21:57:25.306  INFO 9260 --- [cluster-rtt-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:355105}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.305  INFO 9260 --- [cluster-rtt-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:350787}] to cluster0-shard-00-00.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.306  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-00.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=293597200, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-00.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3af81076492d679a3cc0, counter=6}, lastWriteDate=Wed Mar 02 21:57:22 MSK 2022, lastUpdateTimeNanos=7132124547600}
2022-03-02 21:57:25.306  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-02.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.vbyd5.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=297058000, setName='atlas-x7scl9-shard-0', canonicalAddress=cluster0-shard-00-02.vbyd5.mongodb.net:27017, hosts=[cluster0-shard-00-00.vbyd5.mongodb.net:27017, cluster0-shard-00-02.vbyd5.mongodb.net:27017, cluster0-shard-00-01.vbyd5.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.vbyd5.mongodb.net:27017', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_NORTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=2, topologyVersion=TopologyVersion{processId=620d3b254aacb85c444a9315, counter=5}, lastWriteDate=Wed Mar 02 21:57:22 MSK 2022, lastUpdateTimeNanos=7132124547300}
2022-03-02 21:57:25.310  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max election id to 7fffffff0000000000000009 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.310  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Setting max set version to 2 from replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.311  INFO 9260 --- [cluster-ClusterId{value='621fbe14aadf5e151fb6ca2d', description='null'}-cluster0-shard-00-01.vbyd5.mongodb.net:27017] org.mongodb.driver.cluster               : Discovered replica set primary cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 21:57:25.478  WARN 9260 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2022-03-02 21:57:26.020  INFO 9260 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-03-02 21:57:26.091  WARN 9260 --- [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-02 21:57:26.096  INFO 9260 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'
2022-03-02 21:57:26.131  INFO 9260 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2022-03-02 21:57:26.222  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2022-03-02 21:57:26.228  INFO 9260 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 21:57:26.278  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 21:57:26.278  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 21:57:26.278  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 21:57:26.279  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 21:57:26.279  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 21:57:26.279  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2022-03-02 21:57:26.279  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 21:57:26.571  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 21:57:26.576  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2022-03-02 21:57:26.583  INFO 9260 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-02 21:57:26.596  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1646247446595 with initial instances count: 0
2022-03-02 21:57:26.598  INFO 9260 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application PAYMENT_SERVICE with eureka with status UP
2022-03-02 21:57:26.598  INFO 9260 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646247446598, current=UP, previous=STARTING]
2022-03-02 21:57:26.600  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 21:57:26.627  INFO 9260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9201 (http) with context path ''
2022-03-02 21:57:26.628  INFO 9260 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 9201
2022-03-02 21:57:26.650  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 21:57:26.705  INFO 9260 --- [main] r.o.spring.PaymentsServiceApplication    : Started PaymentsServiceApplication in 5.264 seconds (JVM running for 5.804)
2022-03-02 21:57:56.586  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2022-03-02 21:57:56.586  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2022-03-02 21:57:56.587  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2022-03-02 21:57:56.587  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2022-03-02 21:57:56.587  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2022-03-02 21:57:56.587  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2022-03-02 21:57:56.587  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2022-03-02 21:57:56.599  INFO 9260 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2022-03-02 22:00:32.366  INFO 9260 --- [http-nio-9201-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-02 22:00:32.366  INFO 9260 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-03-02 22:00:32.368  INFO 9260 --- [http-nio-9201-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2022-03-02 22:00:32.790  INFO 9260 --- [http-nio-9201-exec-1] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:355159}] to cluster0-shard-00-01.vbyd5.mongodb.net:27017
2022-03-02 22:02:26.298  INFO 9260 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2022-03-02 22:04:20.784  INFO 9260 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application PAYMENT_SERVICE with eureka with status DOWN
2022-03-02 22:04:20.785  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1646247860785, current=DOWN, previous=UP]
2022-03-02 22:04:20.785  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201: registering service...
2022-03-02 22:04:20.790  INFO 9260 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - registration status: 204
2022-03-02 22:04:20.988  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2022-03-02 22:04:23.997  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2022-03-02 22:04:24.002  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_PAYMENT_SERVICE/payment_service:9201 - deregister  status: 200
2022-03-02 22:04:24.006  INFO 9260 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
